#import '../Image/ImageFragment.graphql'
#import '../Money/MoneyFragment.graphql'

fragment MetafieldFragment on Metafield {
  id
  type
  namespace
  key
  value
  createdAt
  updatedAt
  description
  reference @include(if: $includeReferenceMetafieldDetails) {
    __typename
    ... on MediaImage {
      id
      mediaContentType
      image {
        ...ImageFragment
      }
    }
    ... on Product {
      handle
      id
      title
      compareAtPriceRange {
        minVariantPrice {
          ...MoneyFragment
        }
        maxVariantPrice {
          ...MoneyFragment
        }
      }
      priceRange {
        minVariantPrice {
          ...MoneyFragment
        }
        maxVariantPrice {
          ...MoneyFragment
        }
      }
      variants (first: 1) {
        edges {
          node {
            id
            title
            availableForSale
            image {
              ...ImageFragment
            }
            compareAtPriceV2 {
              ...MoneyFragment
            }
            priceV2 {
              ...MoneyFragment
            }
            selectedOptions {
              name
              value
            }
          }
        }
      }
    }
  }
}
